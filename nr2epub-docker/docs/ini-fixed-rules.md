# 固定値実装ルール

## 目的
- 初期実装の簡素化のため、AozoraEpub3の設定項目の一部を固定値で実装。
- 将来的な可変化に備え、設定可能なポイントを記録。

## 実装済みの固定値

| 項目 | 固定値 | 備考 |
|---|---|---|
| **出力形式** | | |
| 出力先 | ダウンロード（ブラウザ） / メール添付 | ファイル出力なし、ストリーム返却 |
| 拡張子 | .epub | epub3形式で固定 |
| **レイアウト** | | |
| 縦書き | 有効 | writing-mode: vertical-rl |
| 行の高さ | 1.8 | CSS: line-height |
| 文字サイズ | 100% | CSS: font-size |
| **文字処理** | | |
| 空行除去 | 5行減らす、最大1行 | AozoraEpub3デフォルト |
| 行頭字下げ | 有効 | text-indent |
| 自動縦中横 | 有効 | 数字や英数字を自動判定 |
| **画像処理** | | |
| 画像方針 | 1枚1ページ配置 | ImageMaxWidth: 1272px, MaxHeight: 1696px |
| JPEG品質 | medium | sharp のデフォルト |
| **メタデータ** | | |
| 言語 | ja | dc:language |
| 出版社 | 小説家になろう | dc:publisher |

## 将来の可変化予定項目

### 優先度高
- 出力先パス（ローカルファイル出力）
- ファイル名フォーマット
- 表紙ページの有効/無効
- 表題ページの有効/無効

### 優先度中
- 目次ページの有効/無効
- 空行除去の詳細ルール
- コメント処理（出力/スキップ）
- 画像の余白除去オプション

### 優先度低
- 横書き対応
- 外字（GAIJI）処理
- 濁点/半濁点の重ね表示

## 実装での処理

- 固定値はコード内で定数またはデフォルト値として実装
- 設定ファイル/CLIで指定された場合、固定値を優先（警告ログ出力）
- Web UIでは固定値を表示しない（ユーザーに選択肢を提供しない）
